<!doctype html>
<html>
<head>
	<title>Single Jukebox Demo</title>
    <meta charset="utf-8" />

	<script src="../src/Jukebox.js"></script>
	<script src="../src/JukeboxManager.js"></script>

	<style>
	#debug, #features, #codecs{
		width:98%;
		padding:1%;
		overflow-y:scroll;
		color:white;
		background:grey;
	}
	.footnote:target{
		background:yellow;
	}
	</style>
</head>
<body>

<h3>Single Jukebox Demo</h3>


<h4>Jukebox Controls</h4>
<div>
	<button onclick="myJukebox.stop()">stop()</button>
	<button onclick="myJukebox.pause()">pause()</button>
	<button onclick="myJukebox.resume()">resume()</button>
	<button onclick="myJukebox.setVolume(0.1)">setVolume(0.1)</button>
	<button onclick="myJukebox.setVolume(1.0)">setVolume(1.0)</button>
</div>

<h4>Play Spritemap Entries</h4>
<div id="play-spritemap-entries"></div>


<script>
var myJukebox;
(function() {

	myJukebox = new Jukebox({
	
		resources: [
			'media/spritemap-cajon.ac3',
			'media/spritemap-cajon.mp3',
			'media/spritemap-cajon.m4a',
			'media/spritemap-cajon.ogg'
		],

		spritemap: {
			'cajon-1': {
				'start': 0.00,
				'end': 4.20
			},

			'cajon-2': {
				'start': 5.00,
				'end': 9.30
			}

		}
	
	});

	function createButton(entry, forcePlayback) {

		var button = document.createElement('button');
		button.innerHTML = entry + (forcePlayback === true ? ' (forced)' : '');

		if (forcePlayback !== true) {
			(function(entry) {
				button.onclick = function() {
					myJukebox.play(entry);
				};
			})(entry);
		} else {
			(function(entry) {
				button.onclick = function() {
					myJukebox.play(entry, true);
				};
			})(entry);
		}

		return button;
	
	}


	var spritemapEntries = document.getElementById('play-spritemap-entries');

	for (var entry in myJukebox.settings.spritemap) {
	
		spritemapEntries.appendChild(createButton(entry));
		spritemapEntries.appendChild(createButton(entry, true));

	}

})();
</script>
</body>
</html>
